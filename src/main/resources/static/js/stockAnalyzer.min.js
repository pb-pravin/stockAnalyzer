/*!
 * Start Bootstrap - SB Admin 2 v3.3.7+1 (http://startbootstrap.com/template-overviews/sb-admin-2)
 * Copyright 2013-2016 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap/blob/gh-pages/LICENSE)
 */
function AppViewModel(e){var t=this;this.symbol=ko.observable(e),this.companyName=ko.observable(),this.totalTweets=ko.observable(),this.tweets=ko.observableArray([]),this.currentPrice=ko.observable(),this.openingPrice=ko.observable(),this.priceChange=ko.observable(),this.percentChange=ko.observable(),this.peRatio=ko.observable(),this.pegRatio=ko.observable(),this.eps=ko.observable(),this.ebitda=ko.observable(),this.volume=ko.observable(),this.marketCap=ko.observable(),this.daysChange=ko.computed(function(){return this.priceChange()+" ("+this.percentChange()+")"},this),this.decision=ko.observable(),this.decisionClass=ko.computed(function(){return"SELL"==this.decision()?"fa-thumbs-down":"fa-thumbs-up"},this),this.decisionColor=ko.computed(function(){return"SELL"==this.decision()?"panel-red":"panel-green"},this),t.updatePageData=function(){$.getJSON("/symbol/"+t.symbol(),function(e){t.companyName(e.symbol+" - "+e.title),t.totalTweets(e.stockDetailList.length),t.tweets(e.stockDetailList),t.decision(e.decision);var s=new Array,a=new Object;a.label="Buy",a.value=parseFloat(e.bullishPercent),s.push(a);var o=new Object;o.label="Sell",o.value=parseFloat(e.bearishPercent),s.push(o);var i=new Object;i.label="Unclear",i.value=100-(parseFloat(e.bullishPercent)+parseFloat(e.bearishPercent)),s.push(i),null==donut?donut=Morris.Donut({element:"morris-donut-chart",data:s,resize:!0}):donut.setData(s)}),$.getJSON("http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20yahoo.finance.quotes%20where%20symbol%20IN%20(%22"+t.symbol()+"%22)&format=json&env=http://datatables.org/alltables.env",function(e){t.currentPrice("$ "+e.query.results.quote.Ask),t.openingPrice("$ "+e.query.results.quote.Open),t.eps(e.query.results.quote.EarningsShare),t.priceChange("$ "+e.query.results.quote.Change),t.marketCap("$ "+e.query.results.quote.MarketCapitalization),t.peRatio(e.query.results.quote.PERatio),t.pegRatio(e.query.results.quote.PEGRatio),t.ebitda(e.query.results.quote.EBITDA),t.percentChange(e.query.results.quote.PercentChange),t.volume(e.query.results.quote.Volume)})},t.updatePageData()}$(function(){$("#side-menu").metisMenu()}),$(function(){$(window).bind("load resize",function(){var e=50,t=this.window.innerWidth>0?this.window.innerWidth:this.screen.width;768>t?($("div.navbar-collapse").addClass("collapse"),e=100):$("div.navbar-collapse").removeClass("collapse");var s=(this.window.innerHeight>0?this.window.innerHeight:this.screen.height)-1;s-=e,1>s&&(s=1),s>e&&$("#page-wrapper").css("min-height",s+"px")});for(var e=window.location,t=$("ul.nav a").filter(function(){return this.href==e}).addClass("active").parent();;){if(!t.is("li"))break;t=t.parent().addClass("in").parent()}ko.applyBindings(new AppViewModel("AAPL"))});var donut;